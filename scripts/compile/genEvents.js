import fs from"fs";import path from"path";import{info,debug,error}from"../../common/utils/logger.js";export default function generateEvents(e){try{debug("Generating discraft/events/index.js...");const t=path.join(e,"events"),n=path.join(e,"discraft","events"),r=path.join(n,"index.js");fs.existsSync(n)||fs.mkdirSync(n,{recursive:!0});const s=fs.readdirSync(t).filter((e=>e.endsWith(".js")&&"index.js"!==e));let i="";s.forEach((e=>{const t=path.basename(e,".js");i+=`import ${t} from '../../events/${e}';\n`})),i+="\n// Export all events with their handlers\n",i+="export const events = {\n",s.forEach((e=>{const t=path.basename(e,".js");i+=`  ${t},\n`})),i+="};",fs.writeFileSync(r,i),info("Generated discraft/events/index.js")}catch(e){error("Error generating discraft/events/index.js:",e)}}