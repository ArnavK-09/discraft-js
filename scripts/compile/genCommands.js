import fs from"fs";import path from"path";import{debug,error,info}from"../../common/utils/logger.js";export default function generateCommands(n){try{debug("Generating discraft/commands/index.js...");const o=path.join(n,"commands"),s=path.join(n,"discraft","commands"),a=path.join(s,"index.js");fs.existsSync(s)||fs.mkdirSync(s,{recursive:!0});const t=fs.readdirSync(o).filter((n=>n.endsWith(".js")&&"index.js"!==n));let r="";0===t.length?r="// No commands found\nexport const commands = {};\n":(t.forEach((n=>{const o=path.basename(n,".js");r+=`import ${o} from '../../commands/${n}';\n`})),r+="\n// Export all commands in a map\n",r+="export const commands = {\n",t.forEach((n=>{const o=path.basename(n,".js");r+=`  [${o}.data.name]: ${o},\n`})),r+="};"),fs.writeFileSync(a,r),info("Generated discraft/commands/index.js")}catch(n){error("Error generating discraft/commands/index.js:",n)}}