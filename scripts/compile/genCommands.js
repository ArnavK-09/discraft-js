import fs from"fs";import path from"path";import{info,debug,error}from"../../common/utils/logger.js";export default function generateCommands(n){try{debug("Generating discraft/commands/index.js...");const s=path.join(n,"commands"),a=path.join(n,"discraft","commands"),o=path.join(a,"index.js");fs.existsSync(a)||fs.mkdirSync(a,{recursive:!0});const r=fs.readdirSync(s).filter((n=>n.endsWith(".js")&&"index.js"!==n));let t="";r.forEach((n=>{const s=path.basename(n,".js");t+=`import ${s} from '../../commands/${n}';\n`})),t+="\n// Export all commands in a map\n",t+="export const commands = {\n",r.forEach((n=>{const s=path.basename(n,".js");t+=`  [${s}.data.name]: ${s},\n`})),t+="};",fs.writeFileSync(o,t),info("Generated discraft/commands/index.js")}catch(n){error("Error generating discraft/commands/index.js:",n)}}